# üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Deploy ‡∏ö‡∏ô Railway (‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏ß‡πâ)

## ‚úÖ ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß
- ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á PostgreSQL database
- ‚úÖ Deploy ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ (‡∏Å‡∏≥‡∏•‡∏±‡∏á building)

---

## üìù ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠

### 1. ‡∏£‡∏≠‡πÉ‡∏´‡πâ Build ‡πÄ‡∏™‡∏£‡πá‡∏à
- ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ `ticketing-system` ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô **Active** (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß)
- ‡∏ñ‡πâ‡∏≤ build failed ‡πÉ‡∏´‡πâ‡∏î‡∏π logs ‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤

### 2. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Database ‡∏Å‡∏±‡∏ö Application

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà **Postgres** service (‡∏ä‡πà‡∏≠‡∏á‡∏ã‡πâ‡∏≤‡∏¢)
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Variables** ‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô
3. ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏°‡∏≤‡∏à‡∏ô‡πÄ‡∏´‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô **Reference Variables**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **+ New Reference** 
5. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `ticketing-system` service
6. Railway ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° `DATABASE_URL` ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

**‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2:**
1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà **ticketing-system** service
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Variables**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **+ New Variable**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Add Reference** 
5. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `DATABASE_URL` ‡∏à‡∏≤‡∏Å Postgres service

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

‡πÉ‡∏ô‡πÅ‡∏ó‡πá‡∏ö **Variables** ‡∏Ç‡∏≠‡∏á `ticketing-system` service:

‡∏Ñ‡∏•‡∏¥‡∏Å **+ New Variable** ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß:

```
JWT_SECRET
```
Value: (‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á)

```
JWT_EXPIRES_IN
```
Value: `7d`

```
NODE_ENV
```
Value: `production`

#### üîê ‡∏™‡∏£‡πâ‡∏≤‡∏á JWT_SECRET:

**‡∏ö‡∏ô macOS/Linux:**
```bash
openssl rand -hex 64
```

**‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Node.js:**
```bash
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
```

Copy ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô `JWT_SECRET`

### 4. Restart Service

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Variables ‡πÄ‡∏™‡∏£‡πá‡∏à:
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Settings** ‡∏Ç‡∏≠‡∏á `ticketing-system`
2. ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏°‡∏≤‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô **Service**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **Restart**

### 5. Initialize Database Schema

**‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1: ‡∏£‡∏≠‡πÉ‡∏´‡πâ Auto Script ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)**
- Script `init-db.js` ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á deploy
- ‡∏£‡∏≠ 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π logs ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "Database schema created successfully!" ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

**‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 2: Run Manual (‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ú‡∏•)**

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà **Postgres** service
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Data**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **Query** ‡∏´‡∏£‡∏∑‡∏≠ **psql**
4. Copy ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå `schema.sql` ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
5. Paste ‡πÅ‡∏•‡∏∞‡∏Å‡∏î **Run Query**

### 6. Generate Public URL

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà **ticketing-system** service
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Settings**
3. ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô **Networking** ‡∏´‡∏≤‡∏õ‡∏∏‡πà‡∏° **Generate Domain**
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Generate Domain**
5. Railway ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á URL ‡πÉ‡∏´‡πâ ‡πÄ‡∏ä‡πà‡∏ô `ticketing-system-production-xxxx.railway.app`

---

## üéâ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

1. ‡πÄ‡∏õ‡∏¥‡∏î URL ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Generate Domain
2. Login ‡∏î‡πâ‡∏ß‡∏¢:
   - **Email:** `admin@example.com`
   - **Password:** `admin123`

3. ‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô admin ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!

---

## üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Logs

### ‡∏î‡∏π Application Logs:
1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà **ticketing-system** service
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **Deployments**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà deployment ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
4. ‡∏î‡∏π logs ‡πÅ‡∏ö‡∏ö real-time

### ‡∏î‡∏π‡∏ß‡πà‡∏≤ Database Initialize ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà:
‡πÉ‡∏ô logs ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô:
```
Connected to database successfully
Database schema created successfully!
Default credentials:
  Email: admin@example.com
  Password: admin123
```

---

## ‚ùå ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: Build Failed
- ‡∏î‡∏π logs ‡∏ß‡πà‡∏≤ error ‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á push code ‡πÉ‡∏´‡∏°‡πà
- ‡∏•‡∏≠‡∏á redeploy

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: Cannot connect to database
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ Add Reference ‡πÅ‡∏•‡πâ‡∏ß (‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ `DATABASE_URL` ‡πÉ‡∏ô Variables
- Restart service

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 3: Tables not found / Login ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
- Database ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å initialize
- ‡∏ó‡∏≥‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5 ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á (Manual)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á `user` ‡πÉ‡∏ô Database ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 4: 503 Service Unavailable
- ‡∏£‡∏≠ 2-3 ‡∏ô‡∏≤‡∏ó‡∏µ service ‡∏≠‡∏≤‡∏à‡∏¢‡∏±‡∏á start ‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à
- ‡∏î‡∏π logs ‡∏ß‡πà‡∏≤‡∏°‡∏µ error ‡∏≠‡∏∞‡πÑ‡∏£
- Restart service

---

## üìû ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠?

‡πÅ‡∏à‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏±‡∏ö!

